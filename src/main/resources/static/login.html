<DOCTYPE html>
<html>
<head>
    <title> GİRİŞ</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../static/css/table.css" type="text/css" media="screen, projection"/>
    <link rel="stylesheet" href="jquery.ui/jquery-ui.css" type="text/css" media="screen, projection"/>
    <link rel="stylesheet" href="bootstrap/bootstrap.min.css" type="text/css" media="screen, projection"/>
    <script type="text/javascript" src="./jquery.ui/jquery-3.7.1.js"></script>
    <script type="text/javascript" src="./jquery.ui/jquery-ui.js"></script>
    <style>
        .divider:after,
        .divider:before {
            content: "";
            flex: 1;
            height: 1px;
            background: #eee;
        }
        .h-custom {
            height: calc(100% - 73px);
        }
        @media (max-width: 450px) {
            .h-custom {
                height: 100%;
            }
        }
    </style>
    <script>
        function kaydet(){
            var email = $('#email').val();
            var password = $('#password').val();

            $.ajax({
                type: "GET",
                url: '/api/products/getall',
                contentType: "JSON",
                success: function (ajaxCevap) {
                    console.log(ajaxCevap);
                    createTable(ajaxCevap); // Tablo oluşturma fonksiyonunu çağırıyoruz
                },
                error: function (xhr, status, error) {
                    console.error("Bir hata oluştu: ", error);
                }
            });
        }

        // Gelen verileri tabloya dönüştüren fonksiyon
        function createTable(data) {
            // Tablonun HTML yapısını hazırlıyoruz
            var tableHtml = "<table border='1' style='width:100%; text-align:left;'><tr><th>ID</th><th>Name</th><th>Price</th><th>Stock Amount</th><th>Description</th></tr>";

            // Her bir ürünü tablo satırına ekliyoruz
            data.forEach(function(item) {
                tableHtml += "<tr>" +
                    "<td>" + item.id + "</td>" +
                    "<td>" + (item.name || 'N/A') + "</td>" +
                    "<td>" + item.price + "</td>" +
                    "<td>" + item.stockAmount + "</td>" +
                    "<td>" + (item.description || 'N/A') + "</td>" +
                    "</tr>";
            });

            tableHtml += "</table>";

            // Tablomuzu sayfada bir elemente ekliyoruz (örneğin, bir div içerisine)
            $('#tableContainer').html(tableHtml);
        }


    </script>
</head>
<body>
<section class="vh-100">
    <div class="container-fluid h-custom">
        <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col-md-9 col-lg-6 col-xl-5">
                <img src="./static/images/draw2.webp"
                     class="img-fluid" alt="Sample image">
            </div>
            <div class="col-md-8 col-lg-6 col-xl-4 offset-xl-1">
                <form>
                    <!-- Email input -->
                    <div data-mdb-input-init class="form-outline mb-4">
                        <input type="email" id="email" class="form-control form-control-lg"
                               placeholder="Enter a valid email address"  value="denemeuser@gmail.com"/>
                        <label class="form-label" for="email">Email address</label>
                    </div>

                    <!-- Password input -->
                    <div data-mdb-input-init class="form-outline mb-3">
                        <input type="password" id="password" class="form-control form-control-lg"
                               placeholder="Enter password" value="123456"/>
                        <label class="form-label" for="password">Password</label>
                    </div>

                    <div class="d-flex justify-content-between align-items-center">
                        <!-- Checkbox -->
                        <div class="form-check mb-0">
                            <input class="form-check-input me-2" type="checkbox" value="" id="form2Example3" />
                            <label class="form-check-label" for="form2Example3">
                                Remember me
                            </label>
                        </div>
                        <a href="#!" class="text-body">Forgot password?</a>
                    </div>

                    <div class="text-center text-lg-start mt-4 pt-2">
                        <button  type="button" data-mdb-button-init data-mdb-ripple-init class="btn btn-primary btn-lg"
                                 style="padding-left: 2.5rem; padding-right: 2.5rem;" onclick="kaydet()">Login</button>
                    </div>

                </form>
            </div>
        </div>
    </div>
    <div
            class="d-flex flex-column flex-md-row text-center text-md-start justify-content-between py-4 px-4 px-xl-5 bg-primary">
        <!-- Copyright -->
        <div class="text-white mb-3 mb-md-0">
            Copyright © 2024. All rights reserved.
        </div>
        <!-- Copyright -->

    </div>
</section>

</body>
</html>
